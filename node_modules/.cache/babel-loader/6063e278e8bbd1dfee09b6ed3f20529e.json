{"ast":null,"code":"var _jsxFileName = \"/Users/iris/Desktop/skand.frontend-tasks/src/containers/user/UsersList.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Table, Button } from 'reactstrap';\n/** @jsx jsx */\n\nimport { jsx } from '@emotion/react';\nimport * as actionType from '../../store/actions';\n\nconst UsersList = props => {\n  const [users, setUsers] = useState([]);\n  const history = useHistory();\n  console.log(props.token);\n  useEffect(() => {\n    async function getUsers() {\n      //console.log(props.token);\n      try {\n        fetch('/api/v2/users', {\n          method: 'GET',\n          headers: {\n            authorization: props.token\n          }\n        }).then(res => {\n          props.setUserList(JSON.parse(res._bodyText).users);\n          setUsers(JSON.parse(res._bodyText).users.map(item => {\n            item.key = item.id;\n            return item;\n          }));\n        });\n      } catch (ex) {\n        console.log(ex);\n      }\n    }\n\n    getUsers();\n  }, []);\n\n  const handleNewUser = () => {\n    history.push(\"/users/create\");\n  };\n\n  const handleView = user => {\n    const userId = user.id;\n    history.push(`/users/${userId}/view`);\n  };\n\n  const handleEdit = user => {\n    const userId = user.id;\n    history.push(`/users/${userId}/edit`);\n  };\n\n  const table = () => {\n    if (props.token === '') {\n      return jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, \"Please login first.\");\n    } else {\n      return jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }\n      }, jsx(\"div\", {\n        css: {\n          paddingBottom: '20px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      }, jsx(\"h3\", {\n        css: {\n          color: '#df7861',\n          display: 'inline'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }, \"User Table\"), jsx(Button, {\n        onClick: handleNewUser,\n        outline: true,\n        css: {\n          display: 'inline',\n          float: 'right',\n          color: '#df7861'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }\n      }, \"Create a new user\")), jsx(Table, {\n        bordered: true,\n        hover: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, jsx(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }\n      }, jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      }, jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 29\n        }\n      }, \"ID\"), jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }\n      }, \"Email\"), jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }\n      }, \"Jobs Count\"), jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }\n      }, \"Active\"), jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }\n      }), jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }\n      }), jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 29\n        }\n      }))), jsx(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }\n      }, users.map(item => {\n        return jsx(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 33\n          }\n        }, jsx(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 37\n          }\n        }, item.id), jsx(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 37\n          }\n        }, item.email), jsx(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 37\n          }\n        }, item.jobs_count), jsx(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 37\n          }\n        }, item.active.toString()), jsx(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 37\n          }\n        }, jsx(Button, {\n          color: \"link\",\n          onClick: () => handleView(item),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 41\n          }\n        }, \"View\")), jsx(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 37\n          }\n        }, jsx(Button, {\n          color: \"link\",\n          onClick: () => handleEdit(item),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 41\n          }\n        }, \"Edit\")));\n      }))), \")\");\n    }\n  };\n\n  return jsx(\"div\", {\n    css: {\n      backgroundColor: '#fcf8e8',\n      height: \"100vh\",\n      width: '100vw',\n      padding: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, table);\n};\n\nconst mapStateToProps = state => {\n  return {\n    token: state.authReducer.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setUserList: data => dispatch({\n      type: actionType.USERLIST,\n      users: data\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersList);","map":{"version":3,"sources":["/Users/iris/Desktop/skand.frontend-tasks/src/containers/user/UsersList.jsx"],"names":["React","useState","useEffect","useHistory","Link","connect","Table","Button","jsx","actionType","UsersList","props","users","setUsers","history","console","log","token","getUsers","fetch","method","headers","authorization","then","res","setUserList","JSON","parse","_bodyText","map","item","key","id","ex","handleNewUser","push","handleView","user","userId","handleEdit","table","paddingBottom","color","display","float","email","jobs_count","active","toString","backgroundColor","height","width","padding","mapStateToProps","state","authReducer","mapDispatchToProps","dispatch","data","type","USERLIST"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Table, Button } from 'reactstrap';\n/** @jsx jsx */\nimport { jsx } from '@emotion/react';\nimport * as actionType from '../../store/actions';\n\nconst UsersList = (props) => {\n    const [users, setUsers] = useState([]);\n    const history = useHistory();\n    console.log(props.token);\n    useEffect(() => {\n        async function getUsers(){\n            //console.log(props.token);\n            try {\n                fetch('/api/v2/users', {\n                    method: 'GET',\n                    headers: {\n                        authorization: props.token,\n                    }\n                })\n                .then(\n                    (res) => {\n                        props.setUserList(JSON.parse(res._bodyText).users);\n                        setUsers(JSON.parse(res._bodyText).users.map(\n                            item => {\n                                item.key = item.id;\n                                return item\n                            }\n                        ));\n                    }\n                )\n            }\n            catch (ex) {\n                console.log(ex);\n            }\n        }\n        getUsers();\n    }, []);\n\n    const handleNewUser = () => {\n        history.push(\"/users/create\");\n    }\n\n    const handleView = (user) => {\n        const userId = user.id;\n        history.push(`/users/${userId}/view`);\n    }\n\n    const handleEdit = (user) => {\n        const userId = user.id;\n        history.push(`/users/${userId}/edit`);\n    }\n\n    const table = () => {\n        if (props.token === ''){\n            return (<p>Please login first.</p>)\n        } else {\n            return (\n                <div>\n                    <div css={{paddingBottom:'20px'}}>\n                        <h3 css={{color: '#df7861', display: 'inline'}}>User Table</h3>\n                        <Button \n                            onClick={handleNewUser}\n                            outline\n                            css={{\n                                display: 'inline',\n                                float: 'right',\n                                color: '#df7861'\n                            }}\n                        >Create a new user</Button>\n                    </div>\n                    <Table bordered hover>\n                        <thead>\n                            <tr>\n                            <th>ID</th>\n                            <th>Email</th>\n                            <th>Jobs Count</th>\n                            <th>Active</th>\n                            <th></th>\n                            <th></th>\n                            <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        {users.map((item) => {\n                            return (\n                                <tr>\n                                    <td>{item.id}</td>\n                                    <td>{item.email}</td>\n                                    <td>{item.jobs_count}</td>\n                                    <td>{item.active.toString()}</td>\n                                    <td><Button color='link' onClick={() => handleView(item)}>View</Button></td>\n                                    <td><Button color='link' onClick={() => handleEdit(item)}>Edit</Button></td>\n                                    {/* <td><Button color='link' onClick={(item) => handleDelete(item)}>Delete</Button></td> */}\n                                </tr>\n                            )\n                        })}\n                        </tbody>\n                    </Table>)\n                </div>\n            )\n        }\n    }\n\n\n    return (\n        <div\n            css={{\n                backgroundColor:'#fcf8e8',\n                height: \"100vh\",\n                width: '100vw',\n                padding: '50px'\n            }}\n        >\n            {table}\n            \n        </div>\n    )\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      token: state.authReducer.token\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setUserList: (data) => dispatch({type: actionType.USERLIST, users:data})\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersList);\n\n"]},"metadata":{},"sourceType":"module"}