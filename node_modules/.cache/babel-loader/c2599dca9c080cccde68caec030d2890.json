{"ast":null,"code":"var _jsxFileName = \"/Users/iris/Desktop/skand.frontend-tasks/src/containers/user/UserCreate.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useFormik } from 'formik';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\n/** @jsx jsx */\n\nimport { jsx } from '@emotion/react';\nimport { Button, Form, FormGroup, Label, Input, Col } from 'reactstrap';\n\nconst UserCreate = props => {\n  const [displayError, setDisplayError] = useState('none');\n  const [token, setToken] = useState('');\n  const history = useHistory();\n  useEffect(() => {\n    function getToken() {\n      setToken(props.token);\n    }\n\n    getToken();\n  }, []);\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      first_name: \"\",\n      last_name: \"\",\n      jobs_count: 0,\n      active: true,\n      slack_username: \"\"\n    },\n    onSubmit: (values, {\n      resetForm\n    }) => {\n      //alert(JSON.stringify(values, null, 2));\n      fetch('/api/v2/users', {\n        method: 'POST',\n        authorization: token,\n        body: JSON.stringify(values)\n      }).then(res => {\n        if (res.status === 200) {\n          setDisplayError('none');\n          console.log(res);\n        } else {\n          setDisplayError('block');\n          resetForm();\n        }\n      });\n    }\n  });\n  console.log(token);\n  return jsx(\"div\", {\n    css: {\n      backgroundColor: '#bbdfc8',\n      height: \"100vh\",\n      width: '100vw',\n      textAlign: 'center',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, jsx(\"div\", {\n    css: {\n      paddingBottom: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, jsx(\"h3\", {\n    css: {\n      color: '#df7861',\n      display: 'inline'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Create a new user\"), jsx(Button, {\n    onClick: () => history.push(`/users`),\n    outline: true,\n    css: {\n      display: 'inline',\n      float: 'right',\n      color: '#df7861'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Go Back\")), jsx(Form, {\n    onSubmit: formik.handleSubmit,\n    css: {\n      border: 'solid 2px gray',\n      borderRadius: '8px',\n      width: '400px',\n      padding: '20px 40px',\n      display: 'flex',\n      flexDirection: 'column',\n      margin: 'auto',\n      backgroundColor: '#f0e5d8',\n      boxShadow: '0 10px 50px #555',\n      '@media(max-width: 600px)': {\n        width: '100%',\n        height: '100%',\n        padding: '20px 40px',\n        boxShadow: '0 0 0 #fff',\n        borderRadius: '0px',\n        border: '0px'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, jsx(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, jsx(Label, {\n    sm: 3,\n    for: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"Email\"), jsx(Col, {\n    sm: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, jsx(Input, {\n    id: \"email\",\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"Please enter your email\",\n    onChange: formik.handleChange,\n    value: formik.values.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }))), jsx(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, jsx(Label, {\n    sm: 3,\n    for: \"first_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"First name\"), jsx(Col, {\n    sm: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, jsx(Input, {\n    id: \"first_name\",\n    name: \"first_name\",\n    type: \"first_name\",\n    placeholder: \"Please enter your first_name\",\n    onChange: formik.handleChange,\n    value: formik.values.first_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }))), jsx(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, jsx(Label, {\n    sm: 3,\n    for: \"last_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, \"Last name\"), jsx(Col, {\n    sm: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, jsx(Input, {\n    id: \"last_name\",\n    name: \"last_name\",\n    type: \"last_name\",\n    placeholder: \"Please enter your last_name\",\n    onChange: formik.handleChange,\n    value: formik.values.last_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }))), jsx(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, jsx(Label, {\n    sm: 3,\n    for: \"jobs_count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, \"Job count\"), jsx(Col, {\n    sm: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, jsx(Input, {\n    id: \"jobs_count\",\n    name: \"jobs_count\",\n    type: \"jobs_count\",\n    placeholder: \"Please enter your jobs_count\",\n    onChange: formik.handleChange,\n    value: formik.values.jobs_count,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }))), jsx(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, jsx(Label, {\n    sm: 3,\n    for: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, \"active\"), jsx(Col, {\n    sm: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, jsx(Input, {\n    id: \"active\",\n    name: \"active\",\n    type: \"active\",\n    placeholder: \"Please enter your active\",\n    onChange: formik.handleChange,\n    value: formik.values.active,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }))), jsx(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, jsx(Label, {\n    sm: 3,\n    for: \"slack_username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, \"Slack username\"), jsx(Col, {\n    sm: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, jsx(Input, {\n    id: \"slack_username\",\n    name: \"slack_username\",\n    type: \"slack_username\",\n    placeholder: \"Please enter your slack_username\",\n    onChange: formik.handleChange,\n    value: formik.values.slack_username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }))), jsx(\"p\", {\n    css: {\n      display: displayError,\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, \"Please try again\"), jsx(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, \"Submit\")));\n};\n\nconst mapStateToProps = state => {\n  return {\n    token: state.authReducer.token,\n    userId: state.userReducer.currentUserId\n  };\n};\n\nexport default connect(mapStateToProps)(UserCreate);","map":{"version":3,"sources":["/Users/iris/Desktop/skand.frontend-tasks/src/containers/user/UserCreate.jsx"],"names":["React","useState","useEffect","useFormik","useHistory","connect","jsx","Button","Form","FormGroup","Label","Input","Col","UserCreate","props","displayError","setDisplayError","token","setToken","history","getToken","formik","initialValues","email","first_name","last_name","jobs_count","active","slack_username","onSubmit","values","resetForm","fetch","method","authorization","body","JSON","stringify","then","res","status","console","log","backgroundColor","height","width","textAlign","display","flexDirection","alignItems","padding","paddingBottom","color","push","float","handleSubmit","border","borderRadius","margin","boxShadow","handleChange","mapStateToProps","state","authReducer","userId","userReducer","currentUserId"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useFormik } from 'formik';\nimport { useHistory } from 'react-router-dom'\nimport { connect } from 'react-redux';\n/** @jsx jsx */\nimport { jsx } from '@emotion/react';\nimport { Button, Form, FormGroup, Label, Input, Col } from 'reactstrap';\n\nconst UserCreate = (props) => {\n    const [displayError, setDisplayError] = useState('none');\n    const [token, setToken] = useState('');\n    const history = useHistory();\n \n    useEffect(() => {\n        function getToken(){\n            setToken(props.token);\n        }\n        getToken();\n    }, []);\n\n\n    const formik = useFormik({\n        initialValues: {\n            email: \"\",\n            first_name: \"\",\n            last_name: \"\",\n            jobs_count: 0,\n            active: true,\n            slack_username: \"\"\n        },\n        onSubmit: (values, {resetForm}) => {\n          //alert(JSON.stringify(values, null, 2));\n          fetch('/api/v2/users', {\n            method: 'POST',\n            authorization: token,\n            body: JSON.stringify(values)\n          })\n          .then(\n            (res) => { \n              if (res.status === 200){\n                setDisplayError('none');\n                console.log(res);\n              } else {\n                setDisplayError('block');\n                resetForm();\n              }\n            }\n          );\n        }\n      });\n\n      console.log(token)\n    return (\n        <div \n        css={{\n          backgroundColor:'#bbdfc8',\n          height: \"100vh\",\n          width: '100vw',\n          textAlign: 'center',\n          display:'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          padding:'50px'\n        }}>\n            <div css={{paddingBottom:'20px'}}>\n                <h3 css={{color: '#df7861', display: 'inline'}}>Create a new user</h3>\n                <Button \n                    onClick={()=> history.push(`/users`)}\n                    outline\n                    css={{\n                        display: 'inline',\n                        float: 'right',\n                        color: '#df7861'\n                    }}\n                >Go Back</Button>\n            </div>\n            <Form\n            onSubmit={formik.handleSubmit}\n            css={{\n                border:'solid 2px gray',\n                borderRadius: '8px',\n                width: '400px',\n                padding: '20px 40px',\n                display: 'flex',\n                flexDirection: 'column',\n                margin: 'auto',\n                backgroundColor: '#f0e5d8',\n                boxShadow: '0 10px 50px #555',\n                '@media(max-width: 600px)': {\n                width: '100%',\n                height:'100%',\n                padding: '20px 40px',\n                boxShadow: '0 0 0 #fff',\n                borderRadius: '0px',\n                border:'0px',\n                }\n            }}\n            >\n            <FormGroup row>\n                <Label sm={3} for=\"email\">Email</Label>\n                <Col sm={9}>\n                <Input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    placeholder=\"Please enter your email\"\n                    onChange={formik.handleChange}\n                    value={formik.values.email}\n                />\n                </Col>\n            </FormGroup>\n            <FormGroup row>\n                <Label sm={3} for=\"first_name\">First name</Label> \n                <Col sm={9}>\n                <Input\n                    id=\"first_name\"\n                    name=\"first_name\"\n                    type=\"first_name\"\n                    placeholder=\"Please enter your first_name\"\n                    onChange={formik.handleChange}\n                    value={formik.values.first_name}\n                />\n                </Col>\n            </FormGroup>\n            <FormGroup row>\n                <Label sm={3} for=\"last_name\">Last name</Label> \n                <Col sm={9}>\n                <Input\n                    id=\"last_name\"\n                    name=\"last_name\"\n                    type=\"last_name\"\n                    placeholder=\"Please enter your last_name\"\n                    onChange={formik.handleChange}\n                    value={formik.values.last_name}\n                />\n                </Col>\n            </FormGroup>\n            <FormGroup row>\n                <Label sm={3} for=\"jobs_count\">Job count</Label> \n                <Col sm={9}>\n                <Input\n                    id=\"jobs_count\"\n                    name=\"jobs_count\"\n                    type=\"jobs_count\"\n                    placeholder=\"Please enter your jobs_count\"\n                    onChange={formik.handleChange}\n                    value={formik.values.jobs_count}\n                />\n                </Col>\n            </FormGroup>\n            <FormGroup row>\n                <Label sm={3} for=\"active\">active</Label> \n                <Col sm={9}>\n                <Input\n                    id=\"active\"\n                    name=\"active\"\n                    type=\"active\"\n                    placeholder=\"Please enter your active\"\n                    onChange={formik.handleChange}\n                    value={formik.values.active}\n                />\n                </Col>\n            </FormGroup>\n            <FormGroup row>\n                <Label sm={3} for=\"slack_username\">Slack username</Label> \n                <Col sm={9}>\n                <Input\n                    id=\"slack_username\"\n                    name=\"slack_username\"\n                    type=\"slack_username\"\n                    placeholder=\"Please enter your slack_username\"\n                    onChange={formik.handleChange}\n                    value={formik.values.slack_username}\n                />\n                </Col>\n            </FormGroup>\n            <p css={{display: displayError, color: 'red'}}>Please try again</p>\n            <Button type=\"submit\">Submit</Button>\n            </Form>\n      </div>\n    )\n}\n\n\nconst mapStateToProps = state => {\n    return {\n      token: state.authReducer.token,\n      userId: state.userReducer.currentUserId\n    }\n  }\n\n\n\nexport default connect(mapStateToProps)(UserCreate);\n"]},"metadata":{},"sourceType":"module"}